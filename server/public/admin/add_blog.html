<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Blog</title>
    <link rel="stylesheet" href="../assets/css/style.css">
</head>

<body>
    <div class="add-blog-container">
        <h2>Add Blog</h2>
        <form id="add-blog-form" enctype="multipart/form-data">
            <div class="form-group">
                <label for="blog-image">Blog Image</label>
                <input type="file" id="blog-image" name="blog-image" accept="image/*" required>
            </div>

            <div class="form-group">
                <label for="blog-title">Title</label>
                <input type="text" id="blog-title" name="blog-title" placeholder="Enter title" required>
            </div>

            <div class="form-group">
                <label for="blog-short-description">Short Description</label>
                <textarea id="blog-short-description" name="blog-short-description"
                    placeholder="Enter blog short content" required></textarea>
            </div>

            <div class="form-group">
                <label for="blog-content">Blog Content</label>
                <textarea id="blog-content" name="blog-content" placeholder="Enter full content" rows="10"
                    required></textarea>
            </div>

            <div class="form-actions">
                <button type="button" id="close-form">Close</button>
                <button type="submit">Submit</button>
            </div>
        </form>
    </div>

    <script>
        // Close the form and return to the dashboard
        document.getElementById('close-form').addEventListener('click', () => {
            window.location.href = 'admin.html';
        });

        // Handle form submission
        document.getElementById('add-blog-form').addEventListener('submit', (e) => {
            e.preventDefault();

            // Get form data
            const formData = new FormData(e.target);
            const blogData = {
                title: formData.get('blog-title'),
                shortDescription: formData.get('blog-short-description'),
                content: formData.get('blog-content'),
                image: document.getElementById('blog-image').files[0]
            };

            // Here, you would typically send the data to your backend
            // For example, using fetch:
            /*
            fetch('/api/blogs', {
                method: 'POST',
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                alert('Blog added successfully!');
                window.location.href = 'admin.html';
            })
            .catch(error => {
                console.error('Error:', error);
            });
            */

            // For now, just log the data and redirect
            console.log('Blog data:', blogData);
            alert('Blog added successfully!');
            window.location.href = 'admin.html';
        });
    </script>
</body>

</html>